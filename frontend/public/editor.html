<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
        <title>Editor</title>
        <script type="text/javascript">

            window.onload = function() {
                if (document.body && document.body.contentEditable != undefined && window.ActiveXObject) {
                    document.body.contentEditable = "true";
                } else {
                    document.designMode = "on";
                }

                // Options for the observer (which mutations to observe)
                const config = { attributes: false, childList: true, subtree: true };

                // Callback function to execute when mutations are observed
                const callback = function(mutationsList, observer) {
                    // Use traditional 'for loops' for IE 11
                    for(let mutation of mutationsList) {
                        if (mutation.type === 'childList') {
                            if((mutation.addedNodes.length > 0) && (mutation.addedNodes[0].tagName == "IMG")) {
                                var imgNode = mutation.addedNodes[0];
                                var parent = imgNode.parentElement;
                                var newDiv = document.createElement("div");
                                newDiv.setAttribute("class", "resizable");
                                newDiv.setAttribute("contentEditable", "false");
                                newDiv.setAttribute("draggable", "true");
                                var newImgNode = document.createElement("img");
                                newImgNode.setAttribute("src", imgNode.src);
                                newImgNode.setAttribute("style", "width:100%; height:100%");
                                newImgNode.setAttribute("draggable", "false");
                                newDiv.appendChild(newImgNode);
                                if(parent == null) {
                                    imgNode.remove();
                                    mutation.previousSibling.appendChild(newDiv);
                                }
                                else {
                                    parent.replaceChild(newDiv, imgNode);
                                }
                            }
                        }
                    }
                };

                // Create an observer instance linked to the callback function
                const observer = new MutationObserver(callback);

                // Start observing the target node for configured mutations
                observer.observe(document, config);
            }

        </script>
        <link href="https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&family=Gaegu&family=Hi+Melody&family=Nanum+Gothic&family=Nanum+Myeongjo&family=Nanum+Pen+Script&family=Poor+Story&family=Sunflower:wght@300&family=Yeon+Sung&display=swap"
        rel="stylesheet">
    </head>
    <body id="editorBody">
        <div class="textDiv" data-text="여기에 글자를 입력해주세요."></div>
    </body>
    <script>
    </script>
    <style>
        .textDiv:empty:not(:focus):before{
            content: attr(data-text);
        }

        .resizable {
            display: inline-block;
            background: red;
            resize: both;
            overflow: hidden;
            line-height: 0;
            width: 300px;
            height: 300px;
        }
    </style>
</html>